As shown in the diagram, the spring is pulled up which in turn pulls up the mass slowly to the point where it is just about to leave contact with the weighing machine i.e right before the weighing machine shows zero.
At that point reading of weighing machine (m) = M-Kx             {where x is the change in length of the spring}
Therefore, K = (M-m)/x 